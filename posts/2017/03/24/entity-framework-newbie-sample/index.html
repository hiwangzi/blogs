<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Entity Framework 新手入门友好实例 | WANG!</title><meta name=keywords content="CSharp,ORM"><meta name=description content="起因 因为实习的原因，程序之中用到了较多的数据库操作逻辑。如果每一处数据库操作都手写的话，工作量较大且后期不易于维护，所以希望能通过 ORM 框架来解决这两个问题。
在昨天之前，对于 ORM 这个词汇，我也仅仅只是在上个学期的 Java EE 课上看企业老师“神速”地使用 Hibernate 做了建立数据库、插入数据的演示。
这两天花了很多时间了解 Entity Framework，终于在今晚成功地实现了“查插删改”，中间经过了很多的波折。例如：查找的很多资料提供的代码都是不完整的，同时他们的讲解也不够“新人（菜鸟）友好型”。所以我决定把一个简单的实例的具体步骤写出来，帮助像我这样的菜鸟快速将 EF(Entity Framework) 应用起来。
如果博文有不当之处，欢迎指出，谢谢~
简介 首先是两个概念
  对象关系映射（英语：Object Relational Mapping，简称 ORM，或 O/RM，或 O/R mapping），是一种程序设计技术，用于实现面向对象编程语言里不同类型系统的数据之间的转换。简单来说，就是可以把一条数据库记录转换为程序中的一个对象，或者反向转换，当然实际上 ORM 可以做更多的事情。）
  Entity Framework (又称ADO.NET Entity Framework) 是微软以 ADO.NET 为基础所发展出来的对象关系对应 (O/R Mapping) 解决方案。
  使用 Entity Framework 在实际数据库相关代码开发中可以采取三种方式：
 DB First：先开发数据库，然后借助 Visual Studio 将数据库中的表结构（或视图）转换为程序中实体模型类。 Code First：直接在程序中定义实体模型类，然后借助 Visual Studio 将其转换为数据库中的表。 Model First：借助 Visual Studio 中的可视化设计工具，设计好数据模型（可以理解为E-R图），然后转换为数据库中的表。  本实例采用第三种方式，即 Model First。"><meta name=author content="Zi WANG"><link rel=canonical href=https://hiwangzi.com/posts/2017/03/24/entity-framework-newbie-sample/><link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://hiwangzi.com/images/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://hiwangzi.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://hiwangzi.com/favicon-32x32.png><link rel=apple-touch-icon href=https://hiwangzi.com/apple-touch-icon.png><link rel=mask-icon href=https://hiwangzi.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.83.1"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Entity Framework 新手入门友好实例"><meta property="og:description" content="起因 因为实习的原因，程序之中用到了较多的数据库操作逻辑。如果每一处数据库操作都手写的话，工作量较大且后期不易于维护，所以希望能通过 ORM 框架来解决这两个问题。
在昨天之前，对于 ORM 这个词汇，我也仅仅只是在上个学期的 Java EE 课上看企业老师“神速”地使用 Hibernate 做了建立数据库、插入数据的演示。
这两天花了很多时间了解 Entity Framework，终于在今晚成功地实现了“查插删改”，中间经过了很多的波折。例如：查找的很多资料提供的代码都是不完整的，同时他们的讲解也不够“新人（菜鸟）友好型”。所以我决定把一个简单的实例的具体步骤写出来，帮助像我这样的菜鸟快速将 EF(Entity Framework) 应用起来。
如果博文有不当之处，欢迎指出，谢谢~
简介 首先是两个概念
  对象关系映射（英语：Object Relational Mapping，简称 ORM，或 O/RM，或 O/R mapping），是一种程序设计技术，用于实现面向对象编程语言里不同类型系统的数据之间的转换。简单来说，就是可以把一条数据库记录转换为程序中的一个对象，或者反向转换，当然实际上 ORM 可以做更多的事情。）
  Entity Framework (又称ADO.NET Entity Framework) 是微软以 ADO.NET 为基础所发展出来的对象关系对应 (O/R Mapping) 解决方案。
  使用 Entity Framework 在实际数据库相关代码开发中可以采取三种方式：
 DB First：先开发数据库，然后借助 Visual Studio 将数据库中的表结构（或视图）转换为程序中实体模型类。 Code First：直接在程序中定义实体模型类，然后借助 Visual Studio 将其转换为数据库中的表。 Model First：借助 Visual Studio 中的可视化设计工具，设计好数据模型（可以理解为E-R图），然后转换为数据库中的表。  本实例采用第三种方式，即 Model First。"><meta property="og:type" content="article"><meta property="og:url" content="https://hiwangzi.com/posts/2017/03/24/entity-framework-newbie-sample/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-03-24T22:35:00+08:00"><meta property="article:modified_time" content="2017-03-24T22:35:00+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Entity Framework 新手入门友好实例"><meta name=twitter:description content="起因 因为实习的原因，程序之中用到了较多的数据库操作逻辑。如果每一处数据库操作都手写的话，工作量较大且后期不易于维护，所以希望能通过 ORM 框架来解决这两个问题。
在昨天之前，对于 ORM 这个词汇，我也仅仅只是在上个学期的 Java EE 课上看企业老师“神速”地使用 Hibernate 做了建立数据库、插入数据的演示。
这两天花了很多时间了解 Entity Framework，终于在今晚成功地实现了“查插删改”，中间经过了很多的波折。例如：查找的很多资料提供的代码都是不完整的，同时他们的讲解也不够“新人（菜鸟）友好型”。所以我决定把一个简单的实例的具体步骤写出来，帮助像我这样的菜鸟快速将 EF(Entity Framework) 应用起来。
如果博文有不当之处，欢迎指出，谢谢~
简介 首先是两个概念
  对象关系映射（英语：Object Relational Mapping，简称 ORM，或 O/RM，或 O/R mapping），是一种程序设计技术，用于实现面向对象编程语言里不同类型系统的数据之间的转换。简单来说，就是可以把一条数据库记录转换为程序中的一个对象，或者反向转换，当然实际上 ORM 可以做更多的事情。）
  Entity Framework (又称ADO.NET Entity Framework) 是微软以 ADO.NET 为基础所发展出来的对象关系对应 (O/R Mapping) 解决方案。
  使用 Entity Framework 在实际数据库相关代码开发中可以采取三种方式：
 DB First：先开发数据库，然后借助 Visual Studio 将数据库中的表结构（或视图）转换为程序中实体模型类。 Code First：直接在程序中定义实体模型类，然后借助 Visual Studio 将其转换为数据库中的表。 Model First：借助 Visual Studio 中的可视化设计工具，设计好数据模型（可以理解为E-R图），然后转换为数据库中的表。  本实例采用第三种方式，即 Model First。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://hiwangzi.com/posts/"},{"@type":"ListItem","position":2,"name":"Entity Framework 新手入门友好实例","item":"https://hiwangzi.com/posts/2017/03/24/entity-framework-newbie-sample/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Entity Framework 新手入门友好实例","name":"Entity Framework 新手入门友好实例","description":"起因 因为实习的原因，程序之中用到了较多的数据库操作逻辑。如果每一处数据库操作都手写的话，工作量较大且后期不易于维护，所以希望能通过 ORM 框架来解决这两个问题。\n在昨天之前，对于 ORM 这个词汇，我也仅仅只是在上个学期的 Java EE 课上看企业老师“神速”地使用 Hibernate 做了建立数据库、插入数据的演示。\n这两天花了很多时间了解 Entity Framework，终于在今晚成功地实现了“查插删改”，中间经过了很多的波折。例如：查找的很多资料提供的代码都是不完整的，同时他们的讲解也不够“新人（菜鸟）友好型”。所以我决定把一个简单的实例的具体步骤写出来，帮助像我这样的菜鸟快速将 EF(Entity Framework) 应用起来。\n如果博文有不当之处，欢迎指出，谢谢~\n简介 首先是两个概念\n  对象关系映射（英语：Object Relational Mapping，简称 ORM，或 O/RM，或 O/R mapping），是一种程序设计技术，用于实现面向对象编程语言里不同类型系统的数据之间的转换。简单来说，就是可以把一条数据库记录转换为程序中的一个对象，或者反向转换，当然实际上 ORM 可以做更多的事情。）\n  Entity Framework (又称ADO.NET Entity Framework) 是微软以 ADO.NET 为基础所发展出来的对象关系对应 (O/R Mapping) 解决方案。\n  使用 Entity Framework 在实际数据库相关代码开发中可以采取三种方式：\n DB First：先开发数据库，然后借助 Visual Studio 将数据库中的表结构（或视图）转换为程序中实体模型类。 Code First：直接在程序中定义实体模型类，然后借助 Visual Studio 将其转换为数据库中的表。 Model First：借助 Visual Studio 中的可视化设计工具，设计好数据模型（可以理解为E-R图），然后转换为数据库中的表。  本实例采用第三种方式，即 Model First。","keywords":["CSharp","ORM"],"articleBody":"起因 因为实习的原因，程序之中用到了较多的数据库操作逻辑。如果每一处数据库操作都手写的话，工作量较大且后期不易于维护，所以希望能通过 ORM 框架来解决这两个问题。\n在昨天之前，对于 ORM 这个词汇，我也仅仅只是在上个学期的 Java EE 课上看企业老师“神速”地使用 Hibernate 做了建立数据库、插入数据的演示。\n这两天花了很多时间了解 Entity Framework，终于在今晚成功地实现了“查插删改”，中间经过了很多的波折。例如：查找的很多资料提供的代码都是不完整的，同时他们的讲解也不够“新人（菜鸟）友好型”。所以我决定把一个简单的实例的具体步骤写出来，帮助像我这样的菜鸟快速将 EF(Entity Framework) 应用起来。\n如果博文有不当之处，欢迎指出，谢谢~\n简介 首先是两个概念\n  对象关系映射（英语：Object Relational Mapping，简称 ORM，或 O/RM，或 O/R mapping），是一种程序设计技术，用于实现面向对象编程语言里不同类型系统的数据之间的转换。简单来说，就是可以把一条数据库记录转换为程序中的一个对象，或者反向转换，当然实际上 ORM 可以做更多的事情。）\n  Entity Framework (又称ADO.NET Entity Framework) 是微软以 ADO.NET 为基础所发展出来的对象关系对应 (O/R Mapping) 解决方案。\n  使用 Entity Framework 在实际数据库相关代码开发中可以采取三种方式：\n DB First：先开发数据库，然后借助 Visual Studio 将数据库中的表结构（或视图）转换为程序中实体模型类。 Code First：直接在程序中定义实体模型类，然后借助 Visual Studio 将其转换为数据库中的表。 Model First：借助 Visual Studio 中的可视化设计工具，设计好数据模型（可以理解为E-R图），然后转换为数据库中的表。  本实例采用第三种方式，即 Model First。\n实例演示 本实例使用的是 Visual Studio 2017(Community)，通过一个 WinForm 程序访问 SQL Server 2016(Express) 数据库来演示。\n本程序可以实现学生信息的自我维护，包括对用户名、密码、性别、班级、电话等资料的处理。学生可以填写信息注册账号，然后使用账号登录查看自己的信息，并对自己的信息进行修改。\n演示：\n数据实体 两个实体：\n  用户（用户名，密码）\n  个人资料（学号，姓名，性别，电话，地址，爱好）\n  具体步骤 1. 新建一个名为 Sstudent 的 WinForm 程序项目 2. 新建一个名为 Model 的类库项目（可选） 3. 新增一个名为 Sstudent 的 ADO.NET Entity Data Model 3.1 在向导中选择空的实体设计器模型 3.2 然后就可以开始创建自己的实体模型 这里首先从工具栏拖出两个 Entity 。\n此时我们观察一下属性区，这里有两项比较重要的属性，如下图\n其中 Name 可以理解为对应将来的数据库表中的一条记录的名字，Entity Set Name 对应的则是一张表的名字。这里修改一下，即用户表（或用户集，UserSet）中会有多条用户记录（User）。\n再来观察一下实体中的属性，在我们创建 Entity 的时候，会自动产生一个名为 Id 的非空自增实体键，如下图所示。\n现在我们完善一下两个实体的属性，这里为了简便，所有的属性都设置为了 String 类型，对应到数据库即为 nvarchar(MAX)。这里其中一个属性用中文命名是想说明，C# 对中文是完全支持的。\n在完成了实体的创建之后，下一步进行实体之间关系的创建，同样从工具栏中拖出一个关系到两个实体之间，因为用户与个人资料之间的关系是 1对1，所以选中关系后，在属性区修改其对应关系。\n然后，在操作区点击右键，选择从模型生成数据库，根据指引，即可完成数据库的建立。\n如果之前没有数据库连接的话，点击“新建连接”选项，按照你的需求选择，这里选择 SQL Server，输入相关信息后，即可完成连接的建立。\n补充：如果此处输入的数据库名不存在，会自动创建对应数据库。\n然后按照提示，可以得到自动生成的 SQL 文件，点击绿色按钮执行即可（此处同样要求输入数据库的账号密码）。\n在完成创建后，到SQL Server Management Studio 中查看数据库即可发现，表已经被创建。\n因为实体之间是 1对1 的关系，所以不会创建新的关系表，而是将其中一张表的主键附加到另一张表中，如下图所示。\n4. 下面来说一说如何通过创建的模型来访问数据库。 4.1 先来看一下 EF 框架帮我们创建的文件，如下图所示。 4.2 我们新建一个名为 UI 的项目，用于展现界面与接受用户操作。因为本项目同样直接使用 EF 框架，所以在此项目中也需要引用 Entity Framework，同时引用 Model 项目。 (1) 使用 Nuget 引用 Entity Framework。\n(2) 引用同解决方案的另一个项目 Model。\n然后就可以方便地如下图所示一般使用“数据库”了，下图所示为两个实体对象集（可理解为数据表）。\n4.3 通过 EF 框架实现查询功能。 // 登录 private void button_Login_Click(object sender, EventArgs e) { // 使用 EF 框架实现查询 User u=sstudentContainer.UserSet.Where(user = user.Userame == textBox_Username.Text \u0026\u0026 user.Password == textBox_Password.Text).FirstOrDefault(); // 如果查询不到，会返回 null if (u != null) { new MyProfile(u).Show(); this.Hide(); } else { MessageBox.Show(\"用户名或密码错误，请重试！\"); } } 4.4 通过 EF 框架实现插入功能。 // 注册 private void button_Signup_Click(object sender, EventArgs e) { try { // 使用 EF 框架实现添加新数据功能 User u = new User(); Profile p = new Profile(); u.Password = this.textBox_Password.Text; u.Userame = this.textBox_Username.Text; p.Address = this.textBox_Address.Text; p.Hobby = this.textBox_Hobby.Text; p.PhoneNumber = this.textBox_PhoneNumber.Text; p.Sex = this.textBox_Sex.Text; p.StudentNumber = this.textBox_StudentNumber.Text; p.姓名 = this.textBox_FullName.Text; u.Profile = p; // 添加两个新对象分别进入两张表 sstudentContainer.UserSet.Add(u); // 因为 EF 会自动将关联的对象同时加入数据库，所以无需手动增加 //sstudentContainer.ProfileSet.Add(p); // 保存新增记录进入数据库 sstudentContainer.SaveChanges(); MessageBox.Show(\"注册成功！\"); this.Close(); } catch (Exception) { MessageBox.Show(\"抱歉，注册失败！\"); throw; } } 4.5 通过 EF 框架实现删除功能。 // 删除用户所有资料 private void button_Delete_Click(object sender, EventArgs e) { // 使用 EF 框架实现删除数据 try { // 需要首先使用 sstudentContainer 查找到该项记录（对象），然后将其删除 User u = sstudentContainer.UserSet.Where(user = user.Id == this.user.Id).FirstOrDefault(); Profile p = u.Profile; // 删除用户 sstudentContainer.ProfileSet.Remove(p); sstudentContainer.UserSet.Remove(u); // 保存删除操作进入数据库 sstudentContainer.SaveChanges(); MessageBox.Show(\"再见，删除成功！\"); this.Close(); } catch (Exception) { // 发生异常，删除失败 MessageBox.Show(\"抱歉，删除失败！\"); throw; } } 4.6 通过 EF 框架实现更新功能。 // 更新用户资料 private void button_Update_Click(object sender, EventArgs e) { // 使用 EF 框架实现更新数据 try { // 需要首先使用 sstudentContainer 查找到该项记录（对象），然后对其进行修改 User u = sstudentContainer.UserSet.Where(user = user.Id == this.user.Id).FirstOrDefault(); Profile p = u.Profile; u.Password = this.textBox_Password.Text; u.Userame = this.textBox_Username.Text; p.Address = this.textBox_Address.Text; p.Hobby = this.textBox_Hobby.Text; p.PhoneNumber = this.textBox_PhoneNumber.Text; p.Sex = this.textBox_Sex.Text; p.StudentNumber = this.textBox_StudentNumber.Text; p.姓名 = this.textBox_FullName.Text; // 保存更改进入数据库 sstudentContainer.SaveChanges(); MessageBox.Show(\"更新资料成功！\"); } catch (Exception) { // 发生异常，更新失败 MessageBox.Show(\"更新资料失败！\"); throw; } } 4.7 当我们尝试运行程序的时候，会发现出现异常，这是因为在 UI 项目中缺少了数据库连接字符串，即下图中的选中部分。只要将其复制，即可。 补充 EF 能帮我们做的事情还有很多，例如可以方便快捷地通过 ToList() 方法直接将数据库中所有数据转换为对象List。而本文只是一个简单的入门实例，只是仅仅帮助初次接触 EF 摸不到头脑的新手快速实战应用，需要学习的还有很多。如果本文有任何错误或不当之处，敬请指出，共同进步，谢谢~\n附上源代码：下载地址\n补充一个不错的视频（但是其中的实例演示并没有成功）：\nEntity Framework 實戰技巧 - YouTube\nCode First 实例可以参考：\nEntity Framework(EF) Code First 多对多关系的实体增，删，改，查操作全程详细示例\n其他可能对你有帮助的链接：\n  ORM框架之EntityFramework介绍\n  Entity(Ado.net) - zezhi821的专栏\n  ","wordCount":"446","inLanguage":"en","datePublished":"2017-03-24T22:35:00+08:00","dateModified":"2017-03-24T22:35:00+08:00","author":{"@type":"Person","name":"Zi WANG"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://hiwangzi.com/posts/2017/03/24/entity-framework-newbie-sample/"},"publisher":{"@type":"Organization","name":"WANG!","logo":{"@type":"ImageObject","url":"https://hiwangzi.com/images/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><header class=header><nav class=nav><div class=logo><a href=https://hiwangzi.com/ accesskey=h title="WANG! (Alt + H)">WANG!</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://hiwangzi.com/archives title=Archives><span>Archives</span></a></li><li><a href=https://hiwangzi.com/tags title=Tags><span>Tags</span></a></li><li><a href=https://hiwangzi.com/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Entity Framework 新手入门友好实例</h1><div class=post-meta><span title="2017-03-24 22:35:00 +0800 +0800">March 24, 2017</span>&nbsp;·&nbsp;Zi WANG</div></header><div class=post-content><h1 id=起因>起因<a hidden class=anchor aria-hidden=true href=#起因>#</a></h1><p>因为实习的原因，程序之中用到了较多的数据库操作逻辑。如果每一处数据库操作都手写的话，工作量较大且后期不易于维护，所以希望能通过 ORM 框架来解决这两个问题。</p><p>在昨天之前，对于 ORM 这个词汇，我也仅仅只是在上个学期的 Java EE 课上看企业老师“神速”地使用 Hibernate 做了建立数据库、插入数据的演示。</p><p>这两天花了很多时间了解 Entity Framework，终于在今晚成功地实现了“查插删改”，中间经过了很多的波折。例如：查找的很多资料提供的代码都是不完整的，同时他们的讲解也不够“新人（菜鸟）友好型”。所以我决定把一个简单的实例的具体步骤写出来，帮助像我这样的菜鸟快速将 EF(Entity Framework) 应用起来。</p><p>如果博文有不当之处，欢迎指出，谢谢~</p><h1 id=简介>简介<a hidden class=anchor aria-hidden=true href=#简介>#</a></h1><p>首先是两个概念</p><ul><li><p><a href=https://zh.wikipedia.org/wiki/%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB%E6%98%A0%E5%B0%84>对象关系映射</a>（英语：Object Relational Mapping，简称 ORM，或 O/RM，或 O/R mapping），是一种程序设计技术，用于实现面向对象编程语言里不同类型系统的数据之间的转换。简单来说，就是可以把一条数据库记录转换为程序中的一个对象，或者反向转换，当然实际上 ORM 可以做更多的事情。）</p></li><li><p><a href=https://zh.wikipedia.org/wiki/Entity_Framework>Entity Framework</a> (又称ADO.NET Entity Framework) 是微软以 ADO.NET 为基础所发展出来的对象关系对应 (O/R Mapping) 解决方案。</p></li></ul><p>使用 Entity Framework 在实际数据库相关代码开发中可以采取三种方式：</p><ul><li>DB First：先开发数据库，然后借助 Visual Studio 将数据库中的表结构（或视图）转换为程序中实体模型类。</li><li>Code First：直接在程序中定义实体模型类，然后借助 Visual Studio 将其转换为数据库中的表。</li><li>Model First：借助 Visual Studio 中的可视化设计工具，设计好数据模型（可以理解为E-R图），然后转换为数据库中的表。</li></ul><p>本实例采用第三种方式，即 Model First。</p><h1 id=实例演示>实例演示<a hidden class=anchor aria-hidden=true href=#实例演示>#</a></h1><p>本实例使用的是 Visual Studio 2017(Community)，通过一个 WinForm 程序访问 SQL Server 2016(Express) 数据库来演示。</p><p>本程序可以实现学生信息的自我维护，包括对用户名、密码、性别、班级、电话等资料的处理。学生可以填写信息注册账号，然后使用账号登录查看自己的信息，并对自己的信息进行修改。</p><p>演示：</p><p><img loading=lazy src=./resources/1104579-20170324230234065-200866055.gif alt=demo></p><h2 id=数据实体>数据实体<a hidden class=anchor aria-hidden=true href=#数据实体>#</a></h2><p>两个实体：</p><ul><li><p>用户（用户名，密码）</p></li><li><p>个人资料（学号，姓名，性别，电话，地址，爱好）</p></li></ul><p><img loading=lazy src=./resources/1104579-20170324203238908-2019676022.png alt=E-R图></p><h2 id=具体步骤>具体步骤<a hidden class=anchor aria-hidden=true href=#具体步骤>#</a></h2><h3 id=1-新建一个名为-sstudent-的-winform-程序项目>1. 新建一个名为 Sstudent 的 WinForm 程序项目<a hidden class=anchor aria-hidden=true href=#1-新建一个名为-sstudent-的-winform-程序项目>#</a></h3><h3 id=2-新建一个名为-model-的类库项目可选>2. 新建一个名为 Model 的类库项目（可选）<a hidden class=anchor aria-hidden=true href=#2-新建一个名为-model-的类库项目可选>#</a></h3><p><img loading=lazy src=./resources/1104579-20170324221145705-2008536491.png alt></p><h3 id=3-新增一个名为-sstudent-的-adonet-entity-data-model>3. 新增一个名为 Sstudent 的 ADO.NET Entity Data Model<a hidden class=anchor aria-hidden=true href=#3-新增一个名为-sstudent-的-adonet-entity-data-model>#</a></h3><p><img loading=lazy src=./resources/1104579-20170324221209518-471292487.png alt></p><p><img loading=lazy src=./resources/1104579-20170324221228393-1328355887.png alt></p><h4 id=31-在向导中选择空的实体设计器模型>3.1 在向导中选择空的实体设计器模型<a hidden class=anchor aria-hidden=true href=#31-在向导中选择空的实体设计器模型>#</a></h4><p><img loading=lazy src=./resources/1104579-20170324221223299-45703138.png alt></p><h4 id=32-然后就可以开始创建自己的实体模型>3.2 然后就可以开始创建自己的实体模型<a hidden class=anchor aria-hidden=true href=#32-然后就可以开始创建自己的实体模型>#</a></h4><p><img loading=lazy src=./resources/1104579-20170324221307346-496476446.png alt></p><p><img loading=lazy src=./resources/1104579-20170324221320408-640441422.png alt></p><p>这里首先从工具栏拖出两个 Entity 。</p><p><img loading=lazy src=./resources/1104579-20170324221249565-1600712620.png alt></p><p>此时我们观察一下属性区，这里有两项比较重要的属性，如下图</p><p><img loading=lazy src=./resources/1104579-20170324221257736-316838821.png alt></p><p>其中 Name 可以理解为对应将来的数据库表中的一条记录的名字，Entity Set Name 对应的则是一张表的名字。这里修改一下，即用户表（或用户集，UserSet）中会有多条用户记录（User）。</p><p><img loading=lazy src=./resources/1104579-20170324221355096-2145566696.png alt></p><p>再来观察一下实体中的属性，在我们创建 Entity 的时候，会自动产生一个名为 Id 的非空自增实体键，如下图所示。</p><p><img loading=lazy src=./resources/1104579-20170324221401330-1383697017.png alt></p><p>现在我们完善一下两个实体的属性，这里为了简便，所有的属性都设置为了 String 类型，对应到数据库即为 nvarchar(MAX)。这里其中一个属性用中文命名是想说明，C# 对中文是完全支持的。</p><p><img loading=lazy src=./resources/1104579-20170324221413549-389531410.png alt></p><p>在完成了实体的创建之后，下一步进行实体之间关系的创建，同样从工具栏中拖出一个关系到两个实体之间，因为用户与个人资料之间的关系是 1对1，所以选中关系后，在属性区修改其对应关系。</p><p><img loading=lazy src=./resources/1104579-20170324221431361-646234423.png alt></p><p>然后，在操作区点击右键，选择从模型生成数据库，根据指引，即可完成数据库的建立。</p><p><img loading=lazy src=./resources/1104579-20170324221454127-1051539095.png alt></p><p>如果之前没有数据库连接的话，点击“新建连接”选项，按照你的需求选择，这里选择 SQL Server，输入相关信息后，即可完成连接的建立。</p><p><img loading=lazy src=./resources/1104579-20170324221528440-661247942.png alt></p><p><img loading=lazy src=./resources/1104579-20170324221557143-1317974254.png alt></p><p><img loading=lazy src=./resources/1104579-20170324221609049-40650076.png alt></p><p>补充：如果此处输入的数据库名不存在，会自动创建对应数据库。</p><p><img loading=lazy src=./resources/1104579-20170324221616158-963792860.png alt></p><p>然后按照提示，可以得到自动生成的 SQL 文件，点击绿色按钮执行即可（此处同样要求输入数据库的账号密码）。</p><p><img loading=lazy src=./resources/1104579-20170324221630127-1121502099.png alt></p><p><img loading=lazy src=./resources/1104579-20170324221640752-1514726219.png alt></p><p><img loading=lazy src=./resources/1104579-20170324221647549-2066674917.png alt></p><p>在完成创建后，到SQL Server Management Studio 中查看数据库即可发现，表已经被创建。</p><p><img loading=lazy src=./resources/1104579-20170324221659408-465682256.png alt></p><p>因为实体之间是 1对1 的关系，所以不会创建新的关系表，而是将其中一张表的主键附加到另一张表中，如下图所示。</p><p><img loading=lazy src=./resources/1104579-20170324221710033-113824704.png alt></p><h3 id=4-下面来说一说如何通过创建的模型来访问数据库>4. 下面来说一说如何通过创建的模型来访问数据库。<a hidden class=anchor aria-hidden=true href=#4-下面来说一说如何通过创建的模型来访问数据库>#</a></h3><h4 id=41-先来看一下-ef-框架帮我们创建的文件如下图所示>4.1 先来看一下 EF 框架帮我们创建的文件，如下图所示。<a hidden class=anchor aria-hidden=true href=#41-先来看一下-ef-框架帮我们创建的文件如下图所示>#</a></h4><p><img loading=lazy src=./resources/1104579-20170324221726643-1991348623.png alt></p><h4 id=42-我们新建一个名为-ui-的项目用于展现界面与接受用户操作因为本项目同样直接使用-ef-框架所以在此项目中也需要引用-entity-framework同时引用-model-项目>4.2 我们新建一个名为 UI 的项目，用于展现界面与接受用户操作。因为本项目同样直接使用 EF 框架，所以在此项目中也需要引用 Entity Framework，同时引用 Model 项目。<a hidden class=anchor aria-hidden=true href=#42-我们新建一个名为-ui-的项目用于展现界面与接受用户操作因为本项目同样直接使用-ef-框架所以在此项目中也需要引用-entity-framework同时引用-model-项目>#</a></h4><p>(1) 使用 Nuget 引用 Entity Framework。</p><p><img loading=lazy src=./resources/1104579-20170324221817315-2089909743.png alt></p><p><img loading=lazy src=./resources/1104579-20170324221805908-2138574699.png alt></p><p>(2) 引用同解决方案的另一个项目 Model。</p><p><img loading=lazy src=./resources/1104579-20170324221741580-223043384.png alt></p><p><img loading=lazy src=./resources/1104579-20170324221756440-1343484106.png alt></p><p>然后就可以方便地如下图所示一般使用“数据库”了，下图所示为两个实体对象集（可理解为数据表）。</p><p><img loading=lazy src=./resources/1104579-20170324222007221-337398525.png alt></p><h4 id=43-通过-ef-框架实现查询功能>4.3 通过 EF 框架实现查询功能。<a hidden class=anchor aria-hidden=true href=#43-通过-ef-框架实现查询功能>#</a></h4><pre><code class=language-CS data-lang=CS>// 登录
private void button_Login_Click(object sender, EventArgs e)
{
    // 使用 EF 框架实现查询
    User u=sstudentContainer.UserSet.Where(user =&gt; user.Userame == textBox_Username.Text &amp;&amp; user.Password == textBox_Password.Text).FirstOrDefault();
    // 如果查询不到，会返回 null
    if (u != null)
    {
        new MyProfile(u).Show();
        this.Hide();
    }
    else
    {
        MessageBox.Show(&quot;用户名或密码错误，请重试！&quot;);
    }
}
</code></pre><h4 id=44-通过-ef-框架实现插入功能>4.4 通过 EF 框架实现插入功能。<a hidden class=anchor aria-hidden=true href=#44-通过-ef-框架实现插入功能>#</a></h4><pre><code class=language-CS data-lang=CS>// 注册
private void button_Signup_Click(object sender, EventArgs e)
{
    try
    {
        // 使用 EF 框架实现添加新数据功能
        User u = new User();
        Profile p = new Profile();

        u.Password = this.textBox_Password.Text;
        u.Userame = this.textBox_Username.Text;

        p.Address = this.textBox_Address.Text;
        p.Hobby = this.textBox_Hobby.Text;
        p.PhoneNumber = this.textBox_PhoneNumber.Text;
        p.Sex = this.textBox_Sex.Text;
        p.StudentNumber = this.textBox_StudentNumber.Text;
        p.姓名 = this.textBox_FullName.Text;

        u.Profile = p;

        // 添加两个新对象分别进入两张表
        sstudentContainer.UserSet.Add(u);
        // 因为 EF 会自动将关联的对象同时加入数据库，所以无需手动增加
        //sstudentContainer.ProfileSet.Add(p);

        // 保存新增记录进入数据库
        sstudentContainer.SaveChanges();

        MessageBox.Show(&quot;注册成功！&quot;);

        this.Close();
    }
    catch (Exception)
    {
        MessageBox.Show(&quot;抱歉，注册失败！&quot;);
        throw;
    }
}
</code></pre><h4 id=45-通过-ef-框架实现删除功能>4.5 通过 EF 框架实现删除功能。<a hidden class=anchor aria-hidden=true href=#45-通过-ef-框架实现删除功能>#</a></h4><pre><code class=language-CS data-lang=CS>// 删除用户所有资料
private void button_Delete_Click(object sender, EventArgs e)
{
    // 使用 EF 框架实现删除数据
    try
    {
        // 需要首先使用 sstudentContainer 查找到该项记录（对象），然后将其删除
        User u = sstudentContainer.UserSet.Where(user =&gt; user.Id == this.user.Id).FirstOrDefault();
        Profile p = u.Profile;

        // 删除用户
        sstudentContainer.ProfileSet.Remove(p);
        sstudentContainer.UserSet.Remove(u);

        // 保存删除操作进入数据库
        sstudentContainer.SaveChanges();

        MessageBox.Show(&quot;再见，删除成功！&quot;);

        this.Close();
    }
    catch (Exception)
    {
        // 发生异常，删除失败
        MessageBox.Show(&quot;抱歉，删除失败！&quot;);
        throw;
    }
}
</code></pre><h4 id=46-通过-ef-框架实现更新功能>4.6 通过 EF 框架实现更新功能。<a hidden class=anchor aria-hidden=true href=#46-通过-ef-框架实现更新功能>#</a></h4><pre><code class=language-CS data-lang=CS>// 更新用户资料
private void button_Update_Click(object sender, EventArgs e)
{
    // 使用 EF 框架实现更新数据
    try
    {
        // 需要首先使用 sstudentContainer 查找到该项记录（对象），然后对其进行修改
        User u = sstudentContainer.UserSet.Where(user =&gt; user.Id == this.user.Id).FirstOrDefault();
        Profile p = u.Profile;

        u.Password = this.textBox_Password.Text;
        u.Userame = this.textBox_Username.Text;

        p.Address = this.textBox_Address.Text;
        p.Hobby = this.textBox_Hobby.Text;
        p.PhoneNumber = this.textBox_PhoneNumber.Text;
        p.Sex = this.textBox_Sex.Text;
        p.StudentNumber = this.textBox_StudentNumber.Text;
        p.姓名 = this.textBox_FullName.Text;

        // 保存更改进入数据库
        sstudentContainer.SaveChanges();

        MessageBox.Show(&quot;更新资料成功！&quot;);
    }
    catch (Exception)
    {
        // 发生异常，更新失败
        MessageBox.Show(&quot;更新资料失败！&quot;);
        throw;
    }
}
</code></pre><h4 id=47-当我们尝试运行程序的时候会发现出现异常这是因为在-ui-项目中缺少了数据库连接字符串即下图中的选中部分只要将其复制即可>4.7 当我们尝试运行程序的时候，会发现出现异常，这是因为在 UI 项目中缺少了数据库连接字符串，即下图中的选中部分。只要将其复制，即可。<a hidden class=anchor aria-hidden=true href=#47-当我们尝试运行程序的时候会发现出现异常这是因为在-ui-项目中缺少了数据库连接字符串即下图中的选中部分只要将其复制即可>#</a></h4><p><img loading=lazy src=./resources/1104579-20170324222023596-348197448.png alt></p><p><img loading=lazy src=./resources/1104579-20170324222029705-941688901.png alt></p><h1 id=补充>补充<a hidden class=anchor aria-hidden=true href=#补充>#</a></h1><p>EF 能帮我们做的事情还有很多，例如可以方便快捷地通过 ToList() 方法直接将数据库中所有数据转换为对象List。而本文只是一个简单的入门实例，只是仅仅帮助初次接触 EF 摸不到头脑的新手快速实战应用，需要学习的还有很多。如果本文有任何错误或不当之处，敬请指出，共同进步，谢谢~</p><p>附上源代码：<a href=./resources/Sstudent.zip>下载地址</a></p><p>补充一个不错的视频（但是其中的实例演示并没有成功）：</p><p><a href="https://www.youtube.com/watch?v=hbOJjjDyZIA">Entity Framework 實戰技巧 - YouTube</a></p><p>Code First 实例可以参考：</p><p><a href=https://segmentfault.com/a/1190000004152660>Entity Framework(EF) Code First 多对多关系的实体增，删，改，查操作全程详细示例</a></p><p>其他可能对你有帮助的链接：</p><ol><li><p><a href=http://www.jianshu.com/p/ce8026992275>ORM框架之EntityFramework介绍</a></p></li><li><p><a href=http://blog.csdn.net/zezhi821/article/category/1072082>Entity(Ado.net) - zezhi821的专栏</a></p></li></ol></div><footer class=post-footer><ul class=post-tags><li><a href=https://hiwangzi.com/tags/csharp/>CSharp</a></li><li><a href=https://hiwangzi.com/tags/orm/>ORM</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Entity Framework 新手入门友好实例 on twitter" href="https://twitter.com/intent/tweet/?text=Entity%20Framework%20%e6%96%b0%e6%89%8b%e5%85%a5%e9%97%a8%e5%8f%8b%e5%a5%bd%e5%ae%9e%e4%be%8b&url=https%3a%2f%2fhiwangzi.com%2fposts%2f2017%2f03%2f24%2fentity-framework-newbie-sample%2f&hashtags=CSharp%2cORM"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Entity Framework 新手入门友好实例 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fhiwangzi.com%2fposts%2f2017%2f03%2f24%2fentity-framework-newbie-sample%2f&title=Entity%20Framework%20%e6%96%b0%e6%89%8b%e5%85%a5%e9%97%a8%e5%8f%8b%e5%a5%bd%e5%ae%9e%e4%be%8b&summary=Entity%20Framework%20%e6%96%b0%e6%89%8b%e5%85%a5%e9%97%a8%e5%8f%8b%e5%a5%bd%e5%ae%9e%e4%be%8b&source=https%3a%2f%2fhiwangzi.com%2fposts%2f2017%2f03%2f24%2fentity-framework-newbie-sample%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Entity Framework 新手入门友好实例 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fhiwangzi.com%2fposts%2f2017%2f03%2f24%2fentity-framework-newbie-sample%2f&title=Entity%20Framework%20%e6%96%b0%e6%89%8b%e5%85%a5%e9%97%a8%e5%8f%8b%e5%a5%bd%e5%ae%9e%e4%be%8b"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Entity Framework 新手入门友好实例 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fhiwangzi.com%2fposts%2f2017%2f03%2f24%2fentity-framework-newbie-sample%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Entity Framework 新手入门友好实例 on whatsapp" href="https://api.whatsapp.com/send?text=Entity%20Framework%20%e6%96%b0%e6%89%8b%e5%85%a5%e9%97%a8%e5%8f%8b%e5%a5%bd%e5%ae%9e%e4%be%8b%20-%20https%3a%2f%2fhiwangzi.com%2fposts%2f2017%2f03%2f24%2fentity-framework-newbie-sample%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Entity Framework 新手入门友好实例 on telegram" href="https://telegram.me/share/url?text=Entity%20Framework%20%e6%96%b0%e6%89%8b%e5%85%a5%e9%97%a8%e5%8f%8b%e5%a5%bd%e5%ae%9e%e4%be%8b&url=https%3a%2f%2fhiwangzi.com%2fposts%2f2017%2f03%2f24%2fentity-framework-newbie-sample%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer><div id=disqus_thread style=margin-top:26px></div><script>(function(){var a=document,b=a.createElement('script');b.src='https://zill.disqus.com/embed.js',b.setAttribute('data-timestamp',+new Date),(a.head||a.body).appendChild(b)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></article></main><footer class=footer><span>&copy; 2022 <a href=https://hiwangzi.com/>WANG!</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>